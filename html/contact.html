<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact Us - Ramadan Journal</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/contact.css">
  <!-- Include EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <script>
    // Initialize EmailJS with your user ID (public key)
    (function(){
      emailjs.init("HLizmRHkQKq5ZeMwC"); // Replace with your EmailJS user ID
    })();
    emailjs.init("HLizmRHkQKq5ZeMwC");
  </script>

</head>
<body>

  <!-- Loading Screen -->
<div id="loading-screen">
  <div class="spinner"></div>
</div>

  <div id="navbar-container"></div>
  
  <main>
    <h1>Contact Us</h1>
    <p>If you would like to give feedback on what we have done well or what we can improve, please fill out the form below. Please also report any bugs.</p>
    <form id="contact-form">
      <label for="name">Name: *</label>
      <input type="text" id="name" name="from_name" required>

      <label for="email">Email: *</label>
      <input type="email" id="email" name="from_email" required>

      <label for="subject">Subject:</label>
      <input type="text" id="subject" name="subject" required>

      <label for="message">Message: *</label>
      <textarea id="message" name="message" required></textarea>

      <button type="submit">Send Message</button>
    </form>
  </main>

  <!-- Optional Footer -->
  <footer style="text-align: center; margin-top: 20px;">
    <p>&copy; 2025 Ramadan Journal. All rights reserved.</p>
  </footer>

  <!-- Contact Form Submission Script -->
  <script type="module">
    // Listen for the contact form submission
    document.getElementById("contact-form").addEventListener("submit", function(event) {
      event.preventDefault(); // Prevent the default form submission behavior

      // Use EmailJS to send the email
      emailjs.send("service_g5ebaxs", "template_lr6dioi", {
        from_name: document.getElementById("name").value,
        from_email: document.getElementById("email").value,
        subject: document.getElementById("subject").value,
        message: document.getElementById("message").value
      })
      .then(function(response) {
        alert("Message sent successfully!");
        document.getElementById("contact-form").reset();
      }, function(error) {
        alert("Failed to send message. Please try again later.");
        console.error("EmailJS Error:", error);
      });
    });
  </script>

    <script src="/js/navbar.js" type="module"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() => {
          document.getElementById("loading-screen").classList.add("hidden");
        }, 1000); // Wait 1 second before hiding the loader
      });
    </script>
    
</body>
</html>
